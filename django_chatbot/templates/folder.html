{% extends 'base.html' %}

{% load static %} 
{% block styles %}
<style>
  :root{
    --bg:#000;
    --panel:#fff;
    --muted:#6b7280;
    --radius:24px;
    --gap:24px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:var(--bg);
    color:#111;
    font:16px/1.45 system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
  }

  /* ---------- Top bar ---------- */
  .topbar{
    position:fixed; inset:16px 24px auto 24px;
    display:flex; align-items:center; justify-content:space-between;
    color:#fff; z-index:10;
  }
  .brand{display:flex; align-items:center; gap:12px; font-weight:800; font-size:28px}
  .brand .bot{
    width:44px; height:55px; border-radius:20px/14px;
    background-image: url("{% static '25346-removebg-preview.png' %}");
    background-size: cover;
    background-position: center;
  }

  /* ---------- App grid ---------- */
  .app{
    height:100vh;
    padding:88px 24px 24px;      /* ‡πÄ‡∏ß‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö topbar */
    display:grid; grid-template-columns:280px 1fr 320px; gap:var(--gap);
  }
  .panel{
    background:var(--panel);
    border-radius:var(--radius);
    padding:20px;
    display:flex; flex-direction:column;
    min-height:0;                 /* ‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô scroll ‡πÑ‡∏î‡πâ */
  }
  .panel h3{margin:0 0 10px}

  /* ---------- Left (sidebar) ---------- */
  .sidebar .add{
    display:inline-flex; align-items:center; gap:10px;
    background:#eee; border-radius:999px; padding:8px 14px; font-weight:700;
    user-select:none;
  }
  .menu{margin-top:16px; display:grid; gap:12px}
  .menu a{
    display:flex; align-items:center; gap:12px;
    padding:10px 12px; border-radius:14px; text-decoration:none; color:#111;
  }
  .menu a:hover{background:#f5f5f5}
  .icon{width:24px; height:24px; border:2px solid #111; border-radius:6px; display:inline-block}

  /* ---------- Right (logo) ---------- */
  .right .bot-badge{display:flex; justify-content:center; margin:36px 0 12px}
  .right .bot-logo{
    width:170px; height:170px; border-radius:50%; background:#ffffff;
    display:grid; place-items:center; font-size:64px;
  }
  .right .bot-logo img{
  width:100%; height:100%; object-fit:cover; display:block;
  }
  .right .title{font-size:28px; text-align:center; font-weight:800}

  /* ---------- Responsive ---------- */
  @media (max-width:1100px){
    .app{grid-template-columns:1fr}
    .sidebar,.right{display:none}
  }

  /* Custom styles for patient database */
  .patient-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
  }
  .patient-table th, .patient-table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }
  .patient-table th {
    background-color: #f4f4f4;
  }
  .patient-table tr:hover {
    background-color: #f5f5f5;
  }
  .view-xray-btn {
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 5px;
    cursor: pointer;
  }
  .view-xray-btn:hover {
    background-color: #45a049;
  }
</style>
{% endblock %}

{% block content %}
<!-- /* ---------- Top bar ---------- */ -->
<div class="topbar">
  <div class="brand">
    <span class="bot"></span>
    <span>Bone Analysis AI</span>
  </div>
  <div class="dot"></div>
</div>

<div class="app">
  <!-- Left -->
  <aside class="panel sidebar">
    <div class="add">Ôºã add</div>
    <nav class="menu">
      <a href="{% url 'chatbot' %}"><span class="ico">üì∞</span><span>News Chat</span></a>
      <a href="{% url 'folder' %}"><span class="ico">üìÅ</span><span>Folder</span></a>
      <a href="#"><span class="ico">üñºÔ∏è</span><span>Photo</span></a>
      <a href="#"><span class="ico">üìö</span><span>Histories</span></a>
    </nav>
  </aside>

  <!-- Center -->
  <main class="panel">
    <h3>Patient Database</h3>
    <!-- Patient Data Table -->
    <table class="patient-table">
      <thead>
        <tr>
          <th>Patient ID</th>
          <th>Name</th>
          <th>Age</th>
          <th>Diagnosis</th>
          <th>X-ray images</th>
        </tr>
      </thead>
      <tbody>
        <!-- Example rows, replace with dynamic data from backend -->
        <tr>
          <td>001</td>
          <td>John Doe</td>
          <td>45</td>
          <td>Fracture</td>
          <td><button class="view-xray-btn" onclick="window.location.href='/xray/001/'">View X-ray</button></td>
        </tr>
        <tr>
          <td>002</td>
          <td>Jane Smith</td>
          <td>60</td>
          <td>Osteoporosis</td>
          <td><button class="view-xray-btn" onclick="window.location.href='/xray/002/'">View X-ray</button></td>
        </tr>
      </tbody>
    </table>
  </main>

  <!-- Right -->
  <aside class="panel right">
    <div class="bot-badge">
      <div class="bot-logo">
        <img src="{% static '25346-removebg-preview.png' %}" alt="Bone Analisys AI Logo">
      </div>
    </div>
    <div class="title">Bone Analysis AI</div>
  </aside>
</div>
{% endblock %}
